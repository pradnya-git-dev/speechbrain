n_mel_channels: 80

# Modules
embedding_model: !new:speechbrain.lobes.models.Xvector.Xvector
    in_channels: !ref <n_mel_channels>
    activation: !name:torch.nn.LeakyReLU
    tdnn_blocks: 5
    tdnn_channels: [512, 512, 512, 512, 1500]
    tdnn_kernel_sizes: [5, 3, 3, 1, 1]
    tdnn_dilations: [1, 2, 3, 1, 1]
    lin_neurons: 512


normalizer: !new:speechbrain.processing.features.InputNormalization
    norm_type: sentence
    std_norm: False


modules:
    normalizer: !ref <normalizer>
    embedding_model: !ref <embedding_model>

pretrainer: !new:speechbrain.utils.parameter_transfer.Pretrainer
    loadables:
        normalizer: !ref <normalizer>
        embedding_model: !ref <embedding_model>